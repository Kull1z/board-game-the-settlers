@model GameProjectApp.Models.GameLobby
@{
    ViewBag.Title = "GameLobby";
}

<h2>GameLobby</h2>
<h1>@Model.Name</h1>
<br />
<br />
<div>Host: @(Model.Participants[0].Name)</div>



<button onclick="StartGame()">START</button>

<form action="GameLobby" method="post" id="start">
    <input type="hidden" name="formType" value="newGame"/>

</form>

<script type="text/javascript">
    function StartGame() {
        if (@Model.RequiredPlayers == @Model.Participants.Count){
            document.getElementById("start").submit();
        }
    }

</script>



@*<form action="GameLobby" method="POST">
    <input type="text" name="textbox1" value="write something">
    <input type="hidden" name="test" value="success">
    <input type="submit" value="POST More">

</form>*@

<!--
<script type="text/javascript">
    function formSubmit() {
        // requst some action which contains update infomation

        // if(page is updated based on http status code) reload page
        document.getElementById("Refresh").submit();
        window.setTimeout(formSubmit, 1000);
    }

    window.onload=function(){
          window.setTimeout(formSubmit, 1000);
    };
</script>

<form action="GameLobby" method="POST" id="Refresh">
    <input type="hidden" name="poke" value="refresh">
</form>
-->
